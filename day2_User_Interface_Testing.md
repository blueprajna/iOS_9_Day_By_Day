# Day 2 :: User Interface Testing

소프트웨어 응용 프로그램을 개발할 때 자동화된 사용자 인터페이스 테스트는 유용한 도구 입니다. 사용자 인터페이스 테스트는 빠르게 응용 프로그램의 문제를 감지 할수 있으며, 테스트 집합의 성공적인 실행은 앱을 릴리즈 하기 전에 개발자에게 신뢰를 제공할 수 있습니다. iOS 플랫폼에서, 자동화된 사용자 인터페이스 테스트는 자바 스크립트로 작성된 UIAutomation을 사용하여 수행됩니다. 이것은 Instruments 라는 별도의 응용 프로그램을 실행하고, 스크립트를 생성하고 실행하는 것을 포함한다. 이런 작업 방법은 아주 고통스러울 만큼 느리고, 익숙해지기에는 많은 시간이 걸립니다.

## UI Testing

애플은 Xcode 7에서 앱의 사용자 인터페이스 테스트를 수행할 수 있는 새로운 방법을 소개했습니다. UI 테스트는 당신이 UI 요소를 찾고 그것들과 상호작용 할 수 있으며, 사용가능한 속성과 상태를 검증할 수 있습니다. UI 테스트는 완벽하게 Xcode 7 테스트 리포트와 통합되었으며, 단위 테스트와 함께 실행 됩니다. XCTest는 Xcode 5 이후 Xcode의 테스트 프레임워크로 통합 되었지만, Xcode 7에서는 새로운 UI 테스트 기능이 포함되어 업데이트 되었습니다. 이것은 당신이 특정 지점에서 당신의 UI 상태를 확인할 수 있도록 문장(assertions)을 만들수 있습니다. 
assertions - (In computer programming, an assertion is a statement that a predicate (Boolean-valued function, a true–false expression) is expected to always be true at that point in the code. If an assertion evaluates to false at run time, an assertion failure results, which typically causes the program to crash, or to throw an assertion exception.)

### Accessibility
UI 테스트가 가능하기 위해서는, 프로임워크에서 UI의 요소별 작업을 수행 할 수 있도록 UI 내부에 있는 다양한 요소들에 접근이 가능해야 한다. 당신이 탭(tap)이나 스와이프(swipe) 테스트를 위한 특정 위치를 지정할 수도 있지만, 그것은 다른 크기의 디바이스나 당신의 UI의 요소들의 위치를 아주 조금만 변경해도 테스트 진행률이 떨어질 것이다. 

이것은 접근성에 도움이 될수 있습니다. 접근성은 장애인 사용자들이 당신의 응용 프로그램과 상호작용을 하는 방법을 제공하는 아주 오랜동안 확립된 애플 프레임워크 입니다. 그것은 당신의 응용 프로그램이 장애인 사용자들에게 제공할 수 있는 다양한 접근 가능한 UI 기능에 대한 풍부한 의미의 데이터를 제공합니다. 이렇게 상자 밖으로 나온 많은 기능들은 당신의 응용 프로그램과 함께 작동 할것이겠지만, 당신은 접근성 API를 사용해서 당신의 UI에 대한 접근성 데이터를 향샹 시킬수 있습니다.(그리고, 향샹 시켜야 합니다.) 이런 필요성에 대한 많은 경우들 있는데 예를 들자면, 사용자 정의 컨트롤의 경우 접근성으로는 당신의 API가 무엇을 하는지 자동으로 알아낼 수는 없습니다. 

UI 테스트는 다른 크기의 장치 문제에 대한 뛰어난 해결책을 제공하는 접근성을 이용하여 당신의 응용 프로그램이 제공하는 기능들과 상호작용을 할 수 있으며, 만약 당신이 당신의 UI의 몇몇 요소들을 재배치 하더라도 당신의 테스트 집합을 다시 쓸 수 있는 기능을 제공합니다. 접근성을 구현하는 것은 단순히 UI 테스트 만을 돕는것이 아니라 장애인 사용자들이 당신의 응용 프로그램을 사용할 수 있도록 만드는 추가적인 혜택을 제공합니다.

### UI Recording
당신이 몇가지 UI 테스트를 생성하길 원한다면, 접근 가능한 UI를 한번만 설정하면 됩니다. 만약 당신이 복잡한 UI를 가지고 있다면 UI 테스트를 작성하는 것은 시간이 많이 걸리고, 지루하며, 어려울 수 있습니다. 감사하게도 Xcode 7에서 애플은 UI 녹화(UI Recording)를 소개했으며, 이것은 UI 테스트를 새로 만들고 기존에 있는 테스트를 확장할 수 있도록 하였습니다. 이 기능을 켜면 디바이스 혹은 시뮬레이터에 있는 당신의 앱과 상호작용을 할때 코드가 자동을 생성됩니다. 우리는 UI 테스트가 어떻게 함께 작동하는지에 대해 알게 되었으니, 이제는 UI 테스트를 사용할 시간입니다.


## Creating UI Tests
우리는 새로운 UI 테스트 툴이 어떻게 동작하는지 설명하기 위해서 이것을 사용하여 UI 테스트 집합을 구축해 보겠습니다. 만약 당신이 따라해 보기를 원하거나 결과를 보고 싶다면 GitHub의 완성된 데모 응용 프로그램을 이용할 수 있습니다. 

### Setup
당신이 새로운 프로젝트를 Xcode7에서 생성한다면 당신은 UI 테스트를 포함 시킬지 여부를 선택할 수 있습니다. 이것은 UI 테스트를 위해 당신이 필요로 하는 모든 구성을 설정해 줍니다.

\<그림 삽입\>

이번 예제의 프로젝트 셋업은 정말로 간단하지만, Xcode7 에서 UI 테스트가 어떻게 동작하는지를 설명하는데는 충분합니다. 

\<그림 삽입\>

스위치와 상세 뷰 컨트롤러를 연결하는 버튼을 포함하는 메뉴 뷰 컨트롤러가 있습니다. 스위치가 “off” 상태였을때, 버튼은 비활성화 되어야 하며 네비게이션 기능은 불가능 해야 합니다. 상세 뷰 컨트롤러는 라벨의 값을 증가하는 간단한 버튼을 포함하고 있습니다. 

### Using UI Recording 
UI를 설정하고 동작하게 되면, 우리는 코드의 어떤 변경도 기능적으로 영향을 주지 않는 몇가지 UI 테스트를 작성할 수 있습니다. 

#### THE XCTEST UI TESTING API



 
